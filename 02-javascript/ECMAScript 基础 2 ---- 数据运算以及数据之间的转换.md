# ECMAScript 基础（二）---- 数据运算

​	在ECMAScript中，数据的运算主要包括四则运算，比较运算，三元运算，逻辑运算，使用Math对象进行的运算，日期时间运算。除了Math对象和日期时间对象Date的运算，其他的运算都是由运算操作符来实现的，每种运算都有对应的操作符。
## 一、 四则运算
​	四则运算主要包括： +, -, *, /, % ,和 = 操作符组合的 +=, -=, *=, /=, %= 等复合赋值操作, 数据的自增和自减。
​	四则运算主要是对 Number 类型的数据进行处理，但是 + 作为连接符的时候，能对字符串进行拼接操作，因此在实际使用 + 操作符的时候，需要注意符号两边的数据类型。

​	-, *, / 可以有显式数据类型转换的作用，也就是把其他类型的数据，转换成 Number 类型的数据。由于这三种操作符期望返回的数据类型是 Number 类型，因此 ECMAScript 内部的实现就是将数据尽可能的转换成 Number 类型（后面每种数据类型的处理会谈到）。

### 1. 简单操作

​	+ , - , * , / 和 % 操作符，是最基础的运算符，对 Number 类型做处理时，就是进行简单的四则处理。 当 + 操作符有一边是字符串类型的时候，是作为字符串的拼接操作符，能对字符串进行拼接（也可以直接模板字符串）。在处理 + 号的时候，需要注意两边的数据类型，否则可能得不到想要的数据。

### 2. 自增自减操作

​	++ 和 -- 操作符，可以对Number类型的变量进行自增和自减运算。需要注意的是区分前自增（自减）和后自增（自减）的区别。前自增，是会先对变量进行自增操作，再进行表达式的取值运算；后自增，是先获取表达式的值，再进行变量的自增操作。
```javascript
let a = 2;
let b = 2;
console.log(a++); //2
console.log(a); //3
console.log(++b); //3
console.log(b); //3
```

### 3. 复合赋值操作

​	复合赋值操作，是对运算和赋值操作的简写，只使用一个运算符，做两个操作。

```javascript
let a = 2;
a += 3; // 等同于 a = a + 3;
console.log(a); //5
```

## 二、 比较运算

​	比较运算是用关系操作符( < , > ,<= , >= )和相等操作符( == , != , ===, !== )来完成的。

​	在使用关系操作符的时候，有如下规则：

1. 如果有一个操作数是 undefined，始终返回 false（可以理解为，undefined 不参与关系操作符的比较运算）；

2. 如果两边是数值，则进行数值大小比较；

3. 如果两边是字符串，则比较两个字符串对应的字符编码值，并挨个字符从前往后比较；

4. 如果有一个操作数是数值，那么将另一个操作数转换为数值类型（使用Number()方法隐式转换），然后做大小比较；

5. 如果有一个操作数是对象，则调用valueOf() 方法，用得到的值执行比较；如果没有valueOf() 方法，则调用toString() 方法，用得到的值进行比较；

6. 如果有一个值是布尔值，则将其转化为数值类型，然后做比较。

7. 如果有一个操作数是 null， 会先转换成 0，然后做比较；

      总结（优先级）： 如果有一个操作数是布尔值或数值，则都转化成数值然后比较；如果有一个操作数是对象，则进行类型转换之后比较；如果有undefined， 则

   在使用相等操作符的时候，基本规则与关系操作符一致，除了在判断 == 操作的时候，把 null 当成 undefined 就行，有如下规则：

   [==操作符的算法过程](http://es6.ruanyifeng.com/?search=%E9%80%97%E5%8F%B7&x=4&y=9#docs/spec#%E7%9B%B8%E7%AD%89%E8%BF%90%E7%AE%97%E7%AC%A6)

​	这样就会有一个很有意思的现象： null > 0 返回false , null < 0 返回 false ， null == 0 返回false ，但是 null >= 0 返回true ， null  <= 0 返回true 。
​	在网上寻找答案，有一个教程说是 null <= 0 和 null >= 0 是取的 !(null > 0) 和 !(null < 0)

## 三、 三元运算

​	返回一个布尔值
​	condition ? express1 : express2
​	condition 的式子里，运算结果会默认使用 Boolean() 方法进行隐式转换。

## 四、 逻辑运算

​	|| , && , !
​	如果两边都是boolean类型的数据，则返回运算后的boolean值；否则，则进行短路运算。

## 五、 使用Math对象进行数据运算

​	Math对象是ECMAScript内置的对象，可以对数据进行一些复杂的数学运算，常见的Math.round(),Math.floor(),Math.Ceil(),Math.abs(),Math.random()

## 六、 日期时间运算

​	Date对象是 ECMAScript 内置的对象，可以对时间进行各种赋值取值操作，常见的有 getTime(), getFullYear(), getMonth()（0-11）, getDate()（显示日期）,getDay()（显示周几，从周日开始算， 0-6）,  getHour(), getSecond(), getMinute()